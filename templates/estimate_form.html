{% extends "layout.html" %}
{% block content %}
<h2>Request Estimate</h2>
<form method="post" class="row g-3">
  <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
  <div class="col-md-6">
    <label class="form-label">Full name *</label>
    <input name="full_name" class="form-control" required>
  </div>
  <div class="col-md-6">
    <label class="form-label">Email *</label>
    <input type="email" name="email" class="form-control" required>
  </div>
  <div class="col-md-4">
    <label class="form-label">Phone</label>
    <input name="phone" class="form-control">
  </div>

  <div class="col-12">
    <label class="form-label">Street address *</label>
    <input name="street" class="form-control" required>
  </div>
  <div class="col-md-4">
    <label class="form-label">City *</label>
    <input name="city" class="form-control" required>
  </div>
  <div class="col-md-4">
    <label class="form-label">State *</label>
    <input name="state" class="form-control" required>
  </div>
  <div class="col-md-4">
    <label class="form-label">Postal code *</label>
    <input name="postal" class="form-control" required>
  </div>

  <div class="col-12">
    <label class="form-label">Budget (optional)</label>
    <input name="budget" class="form-control" placeholder="$">
    <small class="form-text text-muted">You may use a comma or decimal (e.g., 1,000 or 1000.00).</small>
  </div>

  <div class="col-12">
    <label class="form-label">What exactly do you want painted? Describe surfaces, rooms, trim, etc. *</label>
    <textarea name="description" class="form-control" rows="4" required></textarea>
  </div>

  <div class="col-md-6">
    <label class="form-label">Preferred date</label>
    <input type="date" name="preferred_date" class="form-control">
  </div>

  <div class="col-md-6">
    <label class="form-label">Referral code (optional)</label>
    <input name="referral_code" class="form-control" value="{{ prefill_ref }}">
  </div>

  <div class="col-12">
    <small class="text-muted">By submitting, you authorize Sergio Diaz Custom Painting to contact you about this estimate. We store information securely and never store raw passwords.</small>
  </div>

  <div class="col-12">
    <button class="btn btn-success">Submit Estimate Request</button>
    <a href="{{ url_for('index') }}" class="btn btn-secondary">Cancel</a>
  </div>
</form>
{% endblock %}